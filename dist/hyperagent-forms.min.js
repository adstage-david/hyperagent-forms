!function(){var a,b;!function(){"use strict";var c={},d={};a=function(a,b,d){c[a]={deps:b,callback:d}},b=function(a){if(d[a])return d[a];d[a]={};for(var e,f=c[a],g=f.deps,h=f.callback,i=[],j=0,k=g.length;k>j;j++)"exports"===g[j]?i.push(e={}):i.push(b(g[j]));var l=h.apply(this,i);return d[a]=e||l}}(),a("hyperagent-forms/delayed",["exports"],function(a){"use strict";function b(a,b,c){this.xhr=a,this._options=b,this._data=c,!this._data&&a&&a.responseText&&(this._data=a.responseText)}b.prototype.loadResource=function(){var a=new Hyperagent.Resource(this._options);return a._load(this._data),a},a.DelayedResource=b}),a("hyperagent-forms/form",["hyperagent-forms/delayed","exports"],function(a,b){"use strict";function c(a,b,c){this.schema=a.schema,this.method=a.method,this.href=a.href,this._options=b,this.errors={},this.data=c}var d=a.DelayedResource;c.prototype.validate=function(){if(!this.schema)throw new Error("Trying to validate a form without schema.");var a=window.tv4.validateMultiple(this.data,this.schema);return this.errors=a.errors,a.valid},c.prototype.submit=function(){var a=Hyperagent._config.defer(),b={url:this.href,type:this.method||"get",success:this._resolveFactory(a),error:this._rejectFactory(a)};return this.data&&(b.data=JSON.stringify(this.data)),Hyperagent._config.ajax(b),a.promise},c.prototype._resolveFactory=function(a){return function(b,c,e){var f;try{f=JSON.parse(b)}catch(g){}var h=new d(e,this._options,f);a.resolve(h)}.bind(this)},c.prototype._rejectFactory=function(a){return function(b){var c=new d(b,this._options);a.reject(c)}.bind(this)},c.factory=function(a,b){function d(e){if(!(this instanceof d))throw new Error("FormFactory should be created with `new`.");return new c(a,b,e)}return d.schema=a.schema,d},b.Form=c}),a("hyperagent-forms/hook",["hyperagent-forms/form","exports"],function(a,b){"use strict";function c(a){var b=a._forms;this.forms=b?new Hyperagent.LazyResource(this,b,{factory:d.factory}):{}}var d=a.Form;b.LoadHook=c}),a("hyperagentForms",["hyperagent-forms/hook","hyperagent-forms/form","exports"],function(a,b,c){"use strict";var d=a.LoadHook,e=b.Form;c.LoadHook=d,c.Form=e}),window.HyperagentForms=b("hyperagentForms")}();